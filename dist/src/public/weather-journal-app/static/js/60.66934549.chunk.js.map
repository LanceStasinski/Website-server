{"version":3,"file":"static/js/60.66934549.chunk.js","mappings":"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","sources":["../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","components/journal/Text.tsx","components/journal/WeatherInfo.tsx","components/journal/EntryItem.tsx","components/journal/EntriesList.tsx","components/journal/Settings.tsx","components/journal/EntryForm.tsx","components/journal/Journal.tsx","components/shared/ErrorModal.tsx","components/shared/Backdrop.tsx","components/shared/Modal.tsx","components/shared/hooks/http-hook.tsx"],"sourcesContent":["import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import React, { useState, createRef, FormEvent } from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nimport editIcon from \"../../assets/editIcon.png\";\r\nimport deleteIcon from \"../../assets/deleteIcon.png\";\r\nimport saveIcon from \"../../assets/saveIcon.png\";\r\nimport trashIcon from \"../../assets/trashIcon.png\";\r\nimport {\r\n  Header,\r\n  Subject,\r\n  Date,\r\n  TextBox,\r\n  EntryText,\r\n  SubjectWrapper,\r\n  ButtonWrapper,\r\n  EntryAction,\r\n  ActionIcon,\r\n  SubjectInput,\r\n  TextBoxInput,\r\n  EntryForm,\r\n} from \"../../styles/styles\";\r\n\r\nconst EntryHeader = styled(Header)`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n\r\n  @media screen and (min-width: 400px) {\r\n    display: grid;\r\n    grid-template-columns: 80% 20%;\r\n  }\r\n`;\r\n\r\ninterface Props {\r\n  onOpenWarningModal: (id: string) => void;\r\n  onUpdate: (subject: string, message: string, id: string) => Promise<void>;\r\n  entryId: string;\r\n  date: {\r\n    month: string;\r\n    day: number;\r\n    year: number;\r\n  };\r\n  subject: string;\r\n  text: string;\r\n}\r\n\r\nconst Text: React.FC<Props> = (props) => {\r\n  const [isUpdating, setIsUpdating] = useState(false);\r\n  const [subject, setSubject] = useState(props.subject);\r\n  const [text, setText] = useState(props.text);\r\n  const subjectRef = createRef<HTMLInputElement>();\r\n  const textRef = createRef<HTMLTextAreaElement>();\r\n\r\n  const subjectChangeHandler = () => {\r\n    setSubject(subjectRef.current!.value);\r\n  };\r\n\r\n  const textChangeHandler = () => {\r\n    setText(textRef.current!.value);\r\n  };\r\n\r\n  const editEntry = (e: FormEvent) => {\r\n    e.preventDefault();\r\n    setIsUpdating(true);\r\n  };\r\n\r\n  const cancelEditEntry = (e: FormEvent) => {\r\n    e.preventDefault();\r\n    setIsUpdating(false);\r\n    setSubject(props.subject);\r\n    setText(props.text);\r\n  };\r\n\r\n  const updateEntryHandler = (e: FormEvent) => {\r\n    e.preventDefault();\r\n    props.onUpdate(subject, text, props.entryId);\r\n    setIsUpdating(false);\r\n  };\r\n\r\n  const showWarningModalHandler = (e: FormEvent) => {\r\n    e.preventDefault();\r\n    props.onOpenWarningModal(props.entryId);\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {!isUpdating && (\r\n        <EntryForm>\r\n          <EntryHeader>\r\n            <SubjectWrapper>\r\n              <Subject>{props.subject}</Subject>\r\n              <Date>{`${props.date.month} ${props.date.day}, ${props.date.year}`}</Date>\r\n            </SubjectWrapper>\r\n            <ButtonWrapper>\r\n              <EntryAction onClick={editEntry}>\r\n                <ActionIcon src={editIcon} alt=\"edit icon\" />\r\n              </EntryAction>\r\n              <EntryAction onClick={showWarningModalHandler}>\r\n                <ActionIcon src={trashIcon} alt=\"delete icon\" />\r\n              </EntryAction>\r\n            </ButtonWrapper>\r\n          </EntryHeader>\r\n          <TextBox>\r\n            <EntryText>{props.text}</EntryText>\r\n          </TextBox>\r\n        </EntryForm>\r\n      )}\r\n      {isUpdating && (\r\n        <EntryForm>\r\n          <EntryHeader>\r\n            <SubjectWrapper>\r\n              <SubjectInput\r\n                ref={subjectRef}\r\n                value={subject}\r\n                onChange={subjectChangeHandler}\r\n                id=\"subject-input\"\r\n              />\r\n              <Date>{`${props.date.month} ${props.date.day}, ${props.date.year}`}</Date>\r\n            </SubjectWrapper>\r\n            <ButtonWrapper>\r\n              <EntryAction type=\"button\" onClick={updateEntryHandler}>\r\n                <ActionIcon src={saveIcon} alt=\"save icon\" />\r\n              </EntryAction>\r\n              <EntryAction onClick={cancelEditEntry}>\r\n                <ActionIcon src={deleteIcon} alt=\"cancel icon\" />\r\n              </EntryAction>\r\n              <EntryAction onClick={showWarningModalHandler}>\r\n                <ActionIcon src={trashIcon} alt=\"delete icon\" />\r\n              </EntryAction>\r\n            </ButtonWrapper>\r\n          </EntryHeader>\r\n          <TextBoxInput\r\n            ref={textRef}\r\n            value={text}\r\n            onChange={textChangeHandler}\r\n            id=\"text-input\"\r\n          />\r\n        </EntryForm>\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Text;\r\n","import React, { useContext } from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nimport {\r\n  WeatherWrapper,\r\n  Header,\r\n  WeatherUI,\r\n  WeatherSection,\r\n  WeatherIcon,\r\n  Subject,\r\n  Info,\r\n  WeatherH3,\r\n  WeatherData,\r\n} from \"../../styles/styles\";\r\nimport windIcon from \"../../assets/windIcon.png\";\r\nimport { AuthContext } from \"../shared/context/auth-context\";\r\n\r\nconst WeatherHeader = styled(Header)`\r\n  justify-content: center;\r\n`;\r\n\r\nconst Location = styled(Subject)`\r\n  color: #444;\r\n  text-align: center;\r\n`;\r\n\r\nconst SkyWeatherSection = styled(WeatherSection)`\r\n  padding-left: 0.5rem;\r\n\r\n  @media screen and (min-width: 481px) {\r\n    padding-left: 0rem;\r\n  }\r\n\r\n  @media screen and (min-width: 990px) {\r\n    padding-left: 0.5rem;\r\n  }\r\n`;\r\n\r\nconst SkyInfo = styled(Info)`\r\n  margin-right: 0;\r\n\r\n\r\n  @media screen and (min-width: 481px) {\r\n    margin-right: 2.5rem;\r\n    margin-left: 0;\r\n  }\r\n\r\n  @media screen and (min-width: 990px) {\r\n    margin-right: 0;\r\n  }\r\n`\r\n\r\nconst WindImage = styled(WeatherIcon)`\r\n  width: 50px;\r\n  height: 50px;\r\n  margin: 2rem 1rem 2.7rem 1rem;\r\n\r\n  @media screen and (min-width: 481px) {\r\n    margin-left: 0rem;\r\n  }\r\n\r\n  @media screen and (min-width: 990px) {\r\n    margin-left: 1rem;\r\n  }\r\n`;\r\n\r\ninterface Props {\r\n  weather: {\r\n    description: string;\r\n    icon: string;\r\n    temp: number;\r\n    wind: {\r\n      speed: number;\r\n      deg: number;\r\n    };\r\n  };\r\n  location: string;\r\n}\r\n\r\nconst WeatherInfo: React.FC<Props> = (props) => {\r\n  const authCtx = useContext(AuthContext);\r\n\r\n  const convertTemp = (tempK: number) => {\r\n    if (authCtx.unitPreference === \"imperial\") {\r\n      const tempF = Math.floor(((tempK - 273.15) * 9) / 5 + 32);\r\n      return `${tempF} °F`;\r\n    } else if (authCtx.unitPreference === \"metric\") {\r\n      const tempC = Math.floor(tempK - 273.15);\r\n      return `${tempC} °C`;\r\n    } else {\r\n      return `${tempK} K`;\r\n    }\r\n  };\r\n\r\n  const convertWind = (speed: number) => {\r\n    if (authCtx.unitPreference === \"imperial\") {\r\n      const mph = Math.floor(speed * 2.237);\r\n      return `${mph} mph`;\r\n    } else {\r\n      return `${speed} m/s`;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <WeatherWrapper>\r\n      <WeatherHeader>\r\n        <Location>{props.location}</Location>\r\n      </WeatherHeader>\r\n      <WeatherUI>\r\n        <SkyWeatherSection>\r\n          <WeatherH3>Weather</WeatherH3>\r\n          <WeatherData>\r\n            <WeatherIcon\r\n              src={`http://openweathermap.org/img/wn/${props.weather.icon}@2x.png`}\r\n              alt={props.weather.description}\r\n            />\r\n            <SkyInfo>{convertTemp(props.weather.temp)}</SkyInfo>\r\n          </WeatherData>\r\n        </SkyWeatherSection>\r\n        <WeatherSection>\r\n          <WeatherH3>Wind</WeatherH3>\r\n          <WeatherData>\r\n            <WindImage\r\n              src={windIcon}\r\n              alt={`Wind direction - ${props.weather.wind.deg}`}\r\n              style={{ transform: `rotate(${props.weather.wind.deg}deg)` }}\r\n            />\r\n            <Info>{convertWind(props.weather.wind.speed)}</Info>\r\n          </WeatherData>\r\n        </WeatherSection>\r\n      </WeatherUI>\r\n    </WeatherWrapper>\r\n  );\r\n};\r\n\r\nexport default WeatherInfo;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nimport { Entry } from \"./Journal\";\r\nimport Text from \"./Text\";\r\nimport WeatherInfo from \"./WeatherInfo\";\r\nimport { Card } from \"../../styles/styles\";\r\n\r\ninterface StyleProps {\r\n  delay: number;\r\n}\r\n\r\nconst EntryCard = styled(Card)<StyleProps>`\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin-bottom: 2rem;\r\n  opacity: 0;\r\n  animation: slideInRight 0.5s ease-out forwards;\r\n  animation-delay: ${(props) => props.delay + \"s\"};\r\n\r\n  @media screen and (min-width: 990px) {\r\n    height: 20rem;\r\n    display: grid;\r\n    grid-template-columns: 70% 30%;\r\n  }\r\n\r\n  @keyframes slideInRight {\r\n    from {\r\n      transform: translateX(-10rem);\r\n      opacity: 0;\r\n    }\r\n    to {\r\n      transform: translateX(0);\r\n      opacity: 1;\r\n    }\r\n  }\r\n`;\r\n\r\nconst EntryItem: React.FC<{\r\n  entry: Entry;\r\n  delay: number;\r\n  onOpenWarningModal: (id: string) => void;\r\n  onUpdateEntry: (\r\n    subject: string,\r\n    message: string,\r\n    id: string\r\n  ) => Promise<void>;\r\n}> = (props) => {\r\n  return (\r\n    <EntryCard delay={props.delay}>\r\n      <Text\r\n        onOpenWarningModal={props.onOpenWarningModal}\r\n        onUpdate={props.onUpdateEntry}\r\n        entryId={props.entry._id}\r\n        date={props.entry.date}\r\n        subject={props.entry.subject}\r\n        text={props.entry.text}\r\n      />\r\n      <WeatherInfo\r\n        weather={props.entry.weather}\r\n        location={props.entry.location}\r\n      />\r\n    </EntryCard>\r\n  );\r\n};\r\n\r\nexport default EntryItem;\r\n","import React from \"react\";\r\n\r\nimport { List } from \"../../styles/styles\";\r\nimport { Entries } from \"./Journal\";\r\nimport EntryItem from \"./EntryItem\";\r\n\r\nconst EntriesList: React.FC<{\r\n  entries: Entries;\r\n  onOpenWarningModal: (id: string) => void;\r\n  onUpdateEntry: (\r\n    subject: string,\r\n    message: string,\r\n    id: string,\r\n  ) => Promise<void>;\r\n}> = (props) => {\r\n  return (\r\n    <List>\r\n      {props.entries.map((entry, index) => (\r\n        <li key={entry._id}>\r\n          <EntryItem\r\n            onOpenWarningModal={props.onOpenWarningModal}\r\n            onUpdateEntry={props.onUpdateEntry}\r\n            entry={entry}\r\n            delay={(props.entries.length - 1 - index) * 0.25}\r\n          />\r\n        </li>\r\n      ))}\r\n    </List>\r\n  );\r\n};\r\n\r\nexport default EntriesList;\r\n","import React, { useContext, useState, createRef, FormEvent, useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nimport Modal from \"../shared/Modal\";\r\nimport {\r\n  Button,\r\n  Form,\r\n  SettingField,\r\n  Label,\r\n  SettingInput,\r\n  SettingSelect,\r\n  SettingFooter,\r\n  ErrorP,\r\n} from \"../../styles/styles\";\r\nimport { AuthContext } from \"../shared/context/auth-context\";\r\nimport { useHttpClient } from \"../shared/hooks/http-hook\";\r\nimport LoadingSpinner from \"../shared/LoadingSpinner\";\r\nimport ErrorModal from \"../shared/ErrorModal\";\r\n\r\nconst SettingsForm = styled(Form)`\r\n  margin: 0;\r\n`;\r\n\r\nconst Settings: React.FC<{\r\n  show: boolean;\r\n  onCancel: () => void;\r\n  header: string;\r\n  initial: boolean;\r\n}> = (props) => {\r\n  const authCtx = useContext(AuthContext);\r\n  const [zip, setZip] = useState('');\r\n  const [units, setUnits] = useState('');\r\n  const [formError, setFormError] = useState(props.initial ? true : false);\r\n  const zipRef = createRef<HTMLInputElement>();\r\n  const unitsRef = createRef<HTMLSelectElement>();\r\n  const { sendRequest, isLoading, httpError, clearError } = useHttpClient();\r\n\r\n  useEffect(() => {\r\n    setZip(authCtx.zipCode);\r\n    setUnits(authCtx.unitPreference)\r\n  },[authCtx.zipCode, authCtx.unitPreference])\r\n\r\n  const zipChangeHandler = () => {\r\n    setZip(zipRef.current!.value);\r\n    if (\r\n      zipRef.current!.value.length === 0 ||\r\n      zipRef.current!.value === \"no zip\"\r\n    )\r\n      setFormError(true);\r\n    else setFormError(false);\r\n  };\r\n\r\n  const unitsChangeHandler = () => {\r\n    setUnits(unitsRef.current!.value);\r\n  };\r\n\r\n  const submitHandler = async (e: FormEvent) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      const response = await sendRequest(\r\n        `${process.env.REACT_APP_REST_API}/preferences`,\r\n        \"POST\",\r\n        JSON.stringify({ unitPreference: units, zipCode: zip }),\r\n        {\r\n          Authorization: \"Bearer \" + authCtx.token,\r\n          \"Content-Type\": \"application/json\",\r\n        }\r\n      );\r\n      authCtx.updatePreferences(response.unitPreference, response.zipCode);\r\n      props.onCancel();\r\n    } catch (error) {}\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {!httpError && (\r\n        <Modal\r\n          show={props.show}\r\n          onCancel={props.initial ? () => {} : props.onCancel}\r\n          header={props.header}\r\n          footer={\r\n            <SettingFooter\r\n              style={{\r\n                justifyContent: props.initial ? \"center\" : \"space-between\",\r\n              }}\r\n            >\r\n              <Button type=\"button\" onClick={submitHandler}>\r\n                Save\r\n              </Button>\r\n              {!props.initial && (\r\n                <Button type=\"button\" onClick={props.onCancel}>\r\n                  Cancel\r\n                </Button>\r\n              )}\r\n            </SettingFooter>\r\n          }\r\n        >\r\n          {isLoading && <LoadingSpinner />}\r\n          <SettingsForm>\r\n            <SettingField>\r\n              <Label htmlFor=\"zip\">ZIP Code:</Label>\r\n              <SettingInput\r\n                id=\"zip\"\r\n                name=\"input\"\r\n                type=\"text\"\r\n                ref={zipRef}\r\n                value={zip}\r\n                onChange={zipChangeHandler}\r\n              />\r\n            </SettingField>\r\n            {formError && (\r\n              <ErrorP style={{ alignSelf: \"flex-start\" }}>\r\n                Please enter a zip code.\r\n              </ErrorP>\r\n            )}\r\n            <SettingField>\r\n              <Label htmlFor=\"units\">Prefered Units:</Label>\r\n              <SettingSelect\r\n                id=\"units\"\r\n                name=\"units\"\r\n                ref={unitsRef}\r\n                value={units}\r\n                onChange={unitsChangeHandler}\r\n              >\r\n                <option value=\"imperial\">Imperial (mph, °F)</option>\r\n                <option value=\"metric\">Metric (m/s, °C)</option>\r\n                <option value=\"standard\">Standard (m/s, K)</option>\r\n              </SettingSelect>\r\n            </SettingField>\r\n          </SettingsForm>\r\n        </Modal>\r\n      )}\r\n      <ErrorModal error={httpError} onClear={clearError} />\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Settings;\r\n","import React, { useRef, useState, createRef, FormEvent } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { CSSTransition } from \"react-transition-group\";\r\n\r\nimport {\r\n  Button,\r\n  Card,\r\n  Form,\r\n  FormHeading,\r\n  EntryInput,\r\n  TextArea,\r\n  FormBtnWrapper,\r\n} from \"../../styles/styles\";\r\n\r\nconst Editor = styled(Card)`\r\n  width: 100%;\r\n  background-color: rgba(256, 256, 256, 0.6);\r\n  margin-bottom: 1rem;\r\n`;\r\n\r\nconst JournalForm = styled(Form)`\r\n  align-items: flex-start;\r\n  width: 100%;\r\n  margin: 0;\r\n  padding: 0 2.5%;\r\n`;\r\n\r\nconst EntryForm: React.FC<{\r\n  show: boolean;\r\n  onAddEntry: (subject: string, message: string, e: FormEvent) => Promise<boolean>;\r\n}> = (props) => {\r\n  const nodeRef = useRef(null);\r\n  const subjectRef = createRef<HTMLInputElement>();\r\n  const messageRef = createRef<HTMLTextAreaElement>();\r\n\r\n  const [subject, setSubject] = useState(\"\");\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n  const subjectChangeHandler = () => {\r\n    setSubject(subjectRef.current!.value);\r\n  };\r\n\r\n  const messageChangeHandler = () => {\r\n    setMessage(messageRef.current!.value);\r\n  };\r\n\r\n  const addEntry = async (e: FormEvent) => {\r\n    const success = await props.onAddEntry(subject, message, e);\r\n    if (success) {\r\n      setSubject(\"\");\r\n      setMessage(\"\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <CSSTransition\r\n        in={props.show}\r\n        mountOnEnter\r\n        unmountOnExit\r\n        timeout={300}\r\n        classNames=\"grow\"\r\n        nodeRef={nodeRef}\r\n      >\r\n        <Editor ref={nodeRef}>\r\n          <FormHeading>New Journal Entry</FormHeading>\r\n          <hr />\r\n          <JournalForm onSubmit={addEntry}>\r\n            <EntryInput\r\n              ref={subjectRef}\r\n              value={subject}\r\n              onChange={subjectChangeHandler}\r\n              id=\"subject\"\r\n              type=\"text\"\r\n              placeholder=\"Subject\"\r\n            />\r\n            <TextArea\r\n              ref={messageRef}\r\n              value={message}\r\n              onChange={messageChangeHandler}\r\n              id=\"body\"\r\n              placeholder=\"New message\"\r\n            />\r\n            <FormBtnWrapper>\r\n              <Button type=\"submit\">Add</Button>\r\n            </FormBtnWrapper>\r\n          </JournalForm>\r\n        </Editor>\r\n      </CSSTransition>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default EntryForm;\r\n","import React, { useContext, useState, FormEvent, useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nimport {\r\n  Button,\r\n  Header,\r\n  User,\r\n  Controls,\r\n  SettingIcon,\r\n  CloudIcon,\r\n  Container,\r\n  SettingsBtn,\r\n  WarningModalFooter,\r\n  ErrorButton,\r\n  NoEntriesH2,\r\n  MainFooter,\r\n  FooterLink\r\n} from \"../../styles/styles\";\r\nimport { AuthContext } from \"../shared/context/auth-context\";\r\nimport gearIcon from \"../../assets/gearIcon.png\";\r\nimport cloudIcon from \"../../assets/cloudIcon.png\";\r\nimport EntriesList from \"./EntriesList\";\r\nimport Settings from \"./Settings\";\r\nimport EntryForm from \"./EntryForm\";\r\nimport ErrorModal from \"../shared/ErrorModal\";\r\nimport { useHttpClient } from \"../shared/hooks/http-hook\";\r\nimport LoadingSpinner from \"../shared/LoadingSpinner\";\r\nimport Modal from \"../shared/Modal\";\r\n\r\nexport interface Entry {\r\n  weather: {\r\n    description: string;\r\n    icon: string;\r\n    temp: number;\r\n    wind: {\r\n      speed: number;\r\n      deg: number;\r\n    };\r\n  };\r\n  location: string;\r\n  subject: string;\r\n  text: string;\r\n  date: {\r\n    month: string;\r\n    day: number;\r\n    year: number;\r\n  };\r\n  _id: string;\r\n}\r\n\r\nexport type Entries = Entry[];\r\n\r\nconst Logout = styled(Button)`\r\n  margin: 0 1rem 2px 0;\r\n  background-color: transparent;\r\n  color: #fff;\r\n  font-size: 20px;\r\n\r\n  &:hover {\r\n    background-color: transparent;\r\n    animation: turnBlue 0.5s linear forwards;\r\n  }\r\n\r\n  @keyframes turnBlue {\r\n    from {\r\n      color: #fff;\r\n    }\r\n    to {\r\n      color: var(--primary-color);\r\n    }\r\n  }\r\n`;\r\n\r\nconst AddBtn = styled(SettingsBtn)`\r\n  margin: 0;\r\n`;\r\n\r\nconst DeleteButton = styled(ErrorButton)`\r\n  margin-top: 1rem;\r\n`;\r\n\r\nconst Journal: React.FC = () => {\r\n  const authCtx = useContext(AuthContext);\r\n  const [settingsIsOpen, setSettingsIsOpen] = useState(false);\r\n  const [isAddingEntry, setIsAddingEntry] = useState(false);\r\n  const [formError, setFormError] = useState(\"\");\r\n  const [entries, setEntries] = useState<Entries>([]);\r\n  const [entryToDeleteId, setEntryToDeleteId] = useState<string | null>(null);\r\n  const [showWarningModal, setShowWarningModal] = useState(false);\r\n  const [showInitialSettings, setShowInitialSettings] = useState(false);\r\n  const { isLoading, httpError, sendRequest, clearError } = useHttpClient();\r\n\r\n  const logoutHandler = () => {\r\n    authCtx.logout();\r\n  };\r\n\r\n  const toggleEditor = () => {\r\n    setIsAddingEntry((prevState) => !prevState);\r\n  };\r\n\r\n  const openSettings = () => {\r\n    setSettingsIsOpen(true);\r\n  };\r\n\r\n  const closeSettings = () => {\r\n    setSettingsIsOpen(false);\r\n  };\r\n\r\n  const clearFormError = () => {\r\n    setFormError(\"\");\r\n  };\r\n\r\n  const closeInitialSettings = () => {\r\n    setShowInitialSettings(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (authCtx.zipCode === 'no zip') setShowInitialSettings(true)\r\n  }, [authCtx.zipCode])\r\n\r\n  useEffect(() => {\r\n    const getEntries = async () => {\r\n      const responseData = await sendRequest(\r\n        `${process.env.REACT_APP_REST_API}/entries`,\r\n        \"GET\",\r\n        null,\r\n        {\r\n          Authorization: \"Bearer \" + authCtx.token,\r\n        }\r\n      );\r\n      setEntries(responseData.entries);\r\n    };\r\n    getEntries();\r\n  }, [sendRequest, authCtx.token]);\r\n\r\n  const addEntryHandler = async (\r\n    subject: string,\r\n    message: string,\r\n    e: FormEvent\r\n  ) => {\r\n    e.preventDefault();\r\n    let success = false;\r\n    if (subject.length < 1) {\r\n      setFormError(\"Please add a subject.\");\r\n    } else if (message.length < 1) {\r\n      setFormError(\"Please add text to your journal entry.\");\r\n    } else {\r\n      try {\r\n        const responseData = await sendRequest(\r\n          `${process.env.REACT_APP_REST_API}/new-entry`,\r\n          \"POST\",\r\n          JSON.stringify({ zip: authCtx.zipCode, subject, message }),\r\n          {\r\n            Authorization: \"Bearer \" + authCtx.token,\r\n            \"Content-Type\": \"application/json\",\r\n          }\r\n        );\r\n        if (responseData) {\r\n          success = true;\r\n          setEntries((prevEntries) => [...prevEntries!, responseData.newEntry]);\r\n          toggleEditor();\r\n        }\r\n      } catch (error) {}\r\n    }\r\n    return success;\r\n  };\r\n\r\n  const deleteEntryHandler = async () => {\r\n    try {\r\n      const response = await sendRequest(\r\n        `${process.env.REACT_APP_REST_API}/entries`,\r\n        \"DELETE\",\r\n        JSON.stringify({ id: entryToDeleteId }),\r\n        {\r\n          Authorization: \"Bearer \" + authCtx.token,\r\n          \"Content-Type\": \"application/json\",\r\n        }\r\n      );\r\n      setEntryToDeleteId(null);\r\n      setShowWarningModal(false);\r\n      setEntries(entries.filter((entry) => entry._id !== response.id));\r\n    } catch (error) {}\r\n  };\r\n\r\n  const openModalHandler = (id: string) => {\r\n    setEntryToDeleteId(id);\r\n    setShowWarningModal(true);\r\n  };\r\n\r\n  const closeModalHandler = () => {\r\n    setShowWarningModal(false);\r\n    setEntryToDeleteId(null);\r\n  };\r\n\r\n  const updateEntryHandler = async (\r\n    subject: string,\r\n    message: string,\r\n    id: string\r\n  ) => {\r\n    if (subject.length < 1) {\r\n      setFormError(\"Please enter a subject.\");\r\n    } else if (message.length < 1) {\r\n      setFormError(\"Please add text to the journal entry.\");\r\n    } else {\r\n      try {\r\n        const response = await sendRequest(\r\n          `${process.env.REACT_APP_REST_API}/entries/${id}`,\r\n          \"PATCH\",\r\n          JSON.stringify({ zip: authCtx.zipCode, subject, message }),\r\n          {\r\n            Authorization: \"Bearer \" + authCtx.token,\r\n            \"Content-Type\": \"application/json\",\r\n          }\r\n        );\r\n        if (response) {\r\n          const tempEntries = [...entries];\r\n          const indexToUpdate = tempEntries.findIndex(\r\n            (entry) => entry._id === id\r\n          );\r\n          tempEntries[indexToUpdate] = response.updatedEntry;\r\n          setEntries(tempEntries);\r\n        }\r\n      } catch (error) {}\r\n    }\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <ErrorModal error={formError} onClear={clearFormError} />\r\n      <ErrorModal error={httpError} onClear={clearError} />\r\n      {isLoading && <LoadingSpinner />}\r\n      <Settings\r\n        show={showInitialSettings}\r\n        onCancel={closeInitialSettings}\r\n        header=\"Welcome! Please choose your settings\"\r\n        initial={true}\r\n      />\r\n      <Settings\r\n        show={settingsIsOpen}\r\n        onCancel={closeSettings}\r\n        header=\"Settings\"\r\n        initial={false}\r\n      />\r\n      <Modal\r\n        show={showWarningModal}\r\n        onCancel={closeModalHandler}\r\n        header=\"Delete Entry?\"\r\n        footer={\r\n          <WarningModalFooter>\r\n            <Button type=\"button\" onClick={closeModalHandler}>\r\n              Cancel\r\n            </Button>\r\n            <DeleteButton type=\"button\" onClick={deleteEntryHandler}>\r\n              Delete\r\n            </DeleteButton>\r\n          </WarningModalFooter>\r\n        }\r\n      >\r\n        <p>Are you sure you want to delete this entry?</p>\r\n      </Modal>\r\n      <Header>\r\n        <User>{authCtx.username}</User>\r\n        <Controls>\r\n          <Logout onClick={logoutHandler}>Logout</Logout>\r\n          <SettingsBtn title=\"Settings\" onClick={openSettings}>\r\n            <SettingIcon src={gearIcon} alt=\"gear icon\" />\r\n          </SettingsBtn>\r\n        </Controls>\r\n      </Header>\r\n      <Container>\r\n        <AddBtn title=\"Add entry\" onClick={toggleEditor}>\r\n          <CloudIcon src={cloudIcon} alt=\"Cloud with plus symbol\" />\r\n        </AddBtn>\r\n        {entries.length < 1 && !isAddingEntry && <NoEntriesH2>Click on the blue cloud to get started!</NoEntriesH2>}\r\n        <EntryForm show={isAddingEntry} onAddEntry={addEntryHandler} />\r\n        <EntriesList\r\n          entries={entries!}\r\n          onOpenWarningModal={openModalHandler}\r\n          onUpdateEntry={updateEntryHandler}\r\n        />\r\n      </Container>\r\n      <MainFooter>\r\n          <FooterLink href=\"https://lancestasinski.herokuapp.com\">\r\n            lancestasinski.herokuapp.com\r\n          </FooterLink>\r\n          <FooterLink href=\"https://openweathermap.org/api\">\r\n            OpenWeatherMap\r\n          </FooterLink>\r\n        </MainFooter>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Journal;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\n\r\nimport Modal from \"./Modal\";\r\nimport { ErrorButton } from \"../../styles/styles\";\r\n\r\n\r\n\r\nconst StyledP = styled.p`\r\n  color: #666;\r\n  text-align: center;\r\n`\r\n\r\nconst ErrorModal: React.FC<{\r\n  error: string | undefined;\r\n  onClear: () => void;\r\n}> = (props) => {\r\n  return (\r\n    <Modal\r\n      onCancel={props.onClear}\r\n      header=\"An error occurred!\"\r\n      show={!!props.error}\r\n      footer={<ErrorButton onClick={props.onClear}>Okay</ErrorButton>}\r\n    >\r\n      <StyledP>{props.error}</StyledP>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default ErrorModal;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport { StyledBackdrop } from \"../../styles/styles\";\r\n\r\nconst Backdrop: React.FC<{ onClick: () => void }> = (props) => {\r\n  return ReactDOM.createPortal(\r\n    <StyledBackdrop onClick={props.onClick} />,\r\n    document.getElementById(\"backdrop-hook\") as HTMLElement\r\n  );\r\n};\r\n\r\nexport default Backdrop;","import React, { useRef, ReactNode } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { CSSTransition } from \"react-transition-group\";\r\n\r\nimport Backdrop from \"./Backdrop\";\r\nimport {\r\n  Card,\r\n  ModalHeading,\r\n  HR,\r\n  Footer,\r\n  ModalWrapper,\r\n} from \"../../styles/styles\";\r\n\r\nconst ModalOverlay = styled(Card)`\r\n  box-shadow: none;\r\n  top: 20vh;\r\n  z-index: 100;\r\n  position: fixed;\r\n  padding: 1rem;\r\n`;\r\n\r\ninterface Props {\r\n  show: boolean;\r\n  onCancel: () => void;\r\n  header?: string;\r\n  footer?: ReactNode;\r\n}\r\n\r\nconst Modal: React.FC<Props> = (props) => {\r\n  const nodeRef = useRef(null);\r\n  return (\r\n    <React.Fragment>\r\n      {props.show && <Backdrop onClick={props.onCancel} />}\r\n      <CSSTransition\r\n        in={props.show}\r\n        mountOnEnter\r\n        unmountOnExit\r\n        timeout={300}\r\n        classNames=\"slide-down\"\r\n        nodeRef={nodeRef}\r\n      >\r\n        <ModalWrapper>\r\n          <ModalOverlay ref={nodeRef}>\r\n            <ModalHeading>{props.header}</ModalHeading>\r\n            <HR />\r\n            {props.children}\r\n            <Footer>{props.footer}</Footer>\r\n          </ModalOverlay>\r\n        </ModalWrapper>\r\n      </CSSTransition>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n","import { useState, useCallback, useRef, useEffect } from \"react\";\r\n\r\nexport const useHttpClient = () => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [httpError, setHttpError] = useState();\r\n\r\n  const activeHttpRequests = useRef([] as AbortController[]);\r\n\r\n  const sendRequest = useCallback(\r\n    async (url, method = \"GET\", body = null, headers = undefined) => {\r\n      setIsLoading(true);\r\n      const httpAbortCtrl = new AbortController();\r\n      activeHttpRequests.current.push(httpAbortCtrl);\r\n      try {\r\n        const response = await fetch(url, {\r\n          method,\r\n          body,\r\n          headers,\r\n          signal: httpAbortCtrl.signal,\r\n        });\r\n\r\n        const responseData = await response.json();\r\n\r\n        //cancel any http requests if you navigate away from page\r\n        activeHttpRequests.current = activeHttpRequests.current.filter(\r\n          (reqCtrl) => reqCtrl !== httpAbortCtrl\r\n        );\r\n\r\n        if (!response.ok) {\r\n          throw new Error(responseData.message);\r\n        }\r\n        setIsLoading(false);\r\n        return responseData;\r\n      } catch (error: any) {\r\n        setHttpError(error.message);\r\n        setIsLoading(false);\r\n        throw error;\r\n      }\r\n    },\r\n    []\r\n  );\r\n\r\n  const clearError = () => {\r\n    setHttpError(undefined);\r\n  };\r\n\r\n  useEffect(() => {\r\n    //abort any current requests before request is made\r\n    return () => {\r\n      activeHttpRequests.current.forEach((abortCtrl) => abortCtrl.abort());\r\n    };\r\n  }, []);\r\n  return { isLoading, httpError, sendRequest, clearError };\r\n};"],"names":["_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","from","unsupportedIterableToArray","TypeError","EntryHeader","styled","Header","props","useState","isUpdating","setIsUpdating","subject","setSubject","text","setText","subjectRef","createRef","textRef","showWarningModalHandler","e","preventDefault","onOpenWarningModal","entryId","date","month","day","year","onClick","A","src","editIcon","alt","trashIcon","ref","value","onChange","current","id","type","onUpdate","saveIcon","deleteIcon","WeatherHeader","Location","Subject","SkyWeatherSection","WeatherSection","SkyInfo","Info","WindImage","WeatherIcon","authCtx","useContext","AuthContext","location","weather","icon","description","tempK","unitPreference","tempF","Math","floor","tempC","convertTemp","temp","windIcon","wind","deg","style","transform","speed","mph","convertWind","EntryCard","Card","delay","onUpdateEntry","entry","_id","entries","map","index","length","SettingsForm","Form","zip","setZip","units","setUnits","initial","formError","setFormError","zipRef","unitsRef","useHttpClient","sendRequest","isLoading","httpError","clearError","useEffect","zipCode","submitHandler","process","JSON","stringify","Authorization","token","response","updatePreferences","onCancel","Modal","show","header","footer","justifyContent","LoadingSpinner","htmlFor","name","alignSelf","ErrorModal","error","onClear","Editor","JournalForm","nodeRef","useRef","messageRef","message","setMessage","addEntry","onAddEntry","CSSTransition","in","mountOnEnter","unmountOnExit","timeout","classNames","onSubmit","placeholder","Logout","Button","AddBtn","SettingsBtn","DeleteButton","ErrorButton","settingsIsOpen","setSettingsIsOpen","isAddingEntry","setIsAddingEntry","setEntries","entryToDeleteId","setEntryToDeleteId","showWarningModal","setShowWarningModal","showInitialSettings","setShowInitialSettings","toggleEditor","prevState","getEntries","responseData","addEntryHandler","success","prevEntries","newEntry","deleteEntryHandler","filter","closeModalHandler","updateEntryHandler","tempEntries","indexToUpdate","findIndex","updatedEntry","username","logout","title","gearIcon","cloudIcon","href","StyledP","ReactDOM","document","getElementById","ModalOverlay","HR","children","setIsLoading","setHttpError","activeHttpRequests","useCallback","url","method","body","headers","undefined","httpAbortCtrl","AbortController","push","fetch","signal","json","reqCtrl","ok","Error","forEach","abortCtrl","abort"],"sourceRoot":""}